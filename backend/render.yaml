services:
  # ðŸš€ Backend (Express + TS)
  - type: web
    name: backend-pagos
    env: node
    plan: free
    rootDir: backend
    buildCommand: "npm install && npm run build"
    startCommand: "npm start"
    envVars:
      - key: NODE_ENV
        value: production
      - key: MONGO_URI
        sync: false
      - key: PAYPAL_CLIENT_ID
        sync: false
      - key: PAYPAL_CLIENT_SECRET
        sync: false

  # ðŸŽ¨ Frontend (Angular)
  - type: web
    name: frontend-pagos
    env: static
    plan: free
    rootDir: .   # ðŸ‘ˆ porque Angular estÃ¡ en la raÃ­z
    buildCommand: "npm install && npm run build -- --configuration production"
    staticPublishPath: "dist/interfaz-pagos"
    envVars:
      - key: NODE_ENV
        value: production
